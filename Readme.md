# Elasticsearch + Kibana + Metricbeat Demo Project
The purpose of this project is to showcase a Demo of few monitoring tools (Elasticsearch + Kibana + metricbeat) in AWS infrastructure. 
The project is not production-ready, there are multiple security issues like setting up ssl, or login capabilities in elasticsearch. These are intentional as there were not initially required for demo purposes.

Architecture overview: 

Metricbeat gathers prometheus-like data from a Python HTTP server that produces fake data in prometheus format.
Data is fed to elasticsearch and visualized in Kibana. 

## Infrastructure

By default, AWS CloudFormation is used as the infrastructure. It consists only of an EC2 Ubuntu server and a security group to open ports allowing access from the public internet.

## Installation & Requirements

Project requires AWS environment set up for cloudformation usage.

In order to create the project run below command: 
''' aws cloudformation create-stack --stack-name metrics --template-body file://Cloudformation.yaml '''

The bash script for tools installation used in AWS EC2 is described in more detail in the MyELKInstance user_data section.

**Note:**  For training purposes, ACG "Cloud sandboxes" were used, which is a temporary AWS environment. I wanted to avoid using git for storing configs as much as possible, and not all best practices were implemented.

## Examples and Configuration

- `metric_examples` directory contains files with examples of what the data looks like served from the Python HTTP server. This is being randomly generated by http server, and can be found under localhost:80/metrics after deploying the solution.

- `yamls` Directory contains default metricbeat and prometheusModule files, along with adjusted versions to showcase which parts of the configuration require changes.

## Results

Metrics generated with Python can be found in: 
{Instance Public IP}/metrics

In order to access Kibana go to :
{Instance Public IP}:5601

Metrics ready to analyze/visualize can be found by filtering the data in kibana using prometheus.labels.instance equal to 'localhost:80'

An expected outcome is default server metrics available in "[Metricbeat System] Host overview ECS" dashboard. 

**Note:** Other dashboards are avialable as well which might cause a lot of noise. Removing them was not a part of the project though. 